<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CentOS下Oracle安装 | Mr-wang的博客 | 运维笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="安装前准备安装依赖包oracle 安装所需程序包,可以到安装步骤时，查看缺少什么程序就安装什么程序
1binutils-2.17.50.0.6&amp;#10;compat-libstdc++-33-3.2.3&amp;#10;compat-libstdc++-33-3.2.3 (32 bit)&amp;#10;elfutils-libelf-0.125&amp;#10;elfutils-libelf-devel-0.125&amp;#">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS下Oracle安装">
<meta property="og:url" content="http://www.mr-wang.cn/2015/07/11/CentOS-Oracle-installation/index.html">
<meta property="og:site_name" content="Mr-wang的博客 | 运维笔记">
<meta property="og:description" content="安装前准备安装依赖包oracle 安装所需程序包,可以到安装步骤时，查看缺少什么程序就安装什么程序
1binutils-2.17.50.0.6&amp;#10;compat-libstdc++-33-3.2.3&amp;#10;compat-libstdc++-33-3.2.3 (32 bit)&amp;#10;elfutils-libelf-0.125&amp;#10;elfutils-libelf-devel-0.125&amp;#">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_1.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_2.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_3.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_4.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_5.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_6.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_7.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_8.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_9.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_10.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_11.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_12.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_13.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_14.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_15.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_31.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_32.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_33.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_34.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_35.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_36.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_37.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_16.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_17.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_18.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_19.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_20.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_21.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_22.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_23.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_24.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_25.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_26.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_27.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_28.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_29.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_30.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_38.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_39.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_40.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_41.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_42.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_43.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_44.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_45.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_46.png">
<meta property="og:image" content="http://wy-uploads.qiniudn.com/oracle_47.png">
<meta property="og:updated_time" content="2015-04-14T14:48:37.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS下Oracle安装">
<meta name="twitter:description" content="安装前准备安装依赖包oracle 安装所需程序包,可以到安装步骤时，查看缺少什么程序就安装什么程序
1binutils-2.17.50.0.6&amp;#10;compat-libstdc++-33-3.2.3&amp;#10;compat-libstdc++-33-3.2.3 (32 bit)&amp;#10;elfutils-libelf-0.125&amp;#10;elfutils-libelf-devel-0.125&amp;#">
  
    <link rel="alternative" href="/atom.xml" title="Mr-wang的博客 | 运维笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://mr-wang.qiniudn.com/mr_wang.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Mr-wang</a></h1>
		</hgroup>

		
		<p class="header-subtitle">运维笔记</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/categories/技术">技术</a></li>
				        
							<li><a href="/categories/资源">资源</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="/#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/xiaowang0624" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Iptables/" style="font-size: 10px;">Iptables</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/vsftp-ftp/" style="font-size: 10px;">vsftp,ftp</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/通达OA/" style="font-size: 10px;">通达OA</a> <a href="/tags/阅读-书单/" style="font-size: 10px;">阅读,书单</a> <a href="/tags/集群/" style="font-size: 10px;">集群</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://mr-wang.qiniudn.com/UnixToolbox-zh_CN.html">Linux工具箱</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://linux.51yip.com/">Linux命令手册</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是Mr.wang，运维工程师一枚。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Mr-wang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://mr-wang.qiniudn.com/mr_wang.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Mr-wang</h1>
			</hgroup>
			
			<p class="header-subtitle">运维笔记</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/categories/技术">技术</a></li>
		        
					<li><a href="/categories/资源">资源</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="/#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/xiaowang0624" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-CentOS-Oracle-installation" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/11/CentOS-Oracle-installation/" class="article-date">
  	<time datetime="2015-07-11T05:24:49.220Z" itemprop="datePublished">2015-07-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CentOS下Oracle安装
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Oracle/">Oracle</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/技术/">技术</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="安装前准备">安装前准备</h1><h2 id="安装依赖包">安装依赖包</h2><p>oracle 安装所需程序包,可以到安装步骤时，查看缺少什么程序就安装什么程序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binutils-2.17.50.0.6&#10;compat-libstdc++-33-3.2.3&#10;compat-libstdc++-33-3.2.3 (32 bit)&#10;elfutils-libelf-0.125&#10;elfutils-libelf-devel-0.125&#10;gcc-4.1.2&#10;gcc-c++-4.1.2&#10;glibc-2.5-24&#10;glibc-2.5-24 (32 bit)&#10;glibc-common-2.5&#10;glibc-devel-2.5&#10;glibc-devel-2.5 (32 bit)&#10;glibc-headers-2.5&#10;ksh-20060214&#10;libaio-0.3.106&#10;libaio-0.3.106 (32 bit)&#10;libaio-devel-0.3.106&#10;libaio-devel-0.3.106 (32 bit)&#10;libgcc-4.1.2&#10;libgcc-4.1.2 (32 bit)&#10;libstdc++-4.1.2&#10;libstdc++-4.1.2 (32 bit)&#10;libstdc++-devel 4.1.2&#10;make-3.81&#10;sysstat-7.0.2&#10;unixODBC-2.2.14-11.el6 (x86_64) or later&#10;unixODBC-2.2.14-11.el6.i686 or later&#10;unixODBC-devel-2.2.14-11.el6 (x86_64) or later&#10;unixODBC-devel-2.2.14-11.el6.i686 or later&#10;libXp</span><br></pre></td></tr></table></figure>
<p>使用命令 yum install -y ‘package name’ 安装所缺的程序包，pdksh包除外</p>
<p>安装pdksh包，使用rz命令上传pdksh-5.2.14-37.el5_8.1.x86_64.rpm文件到/opt/目录下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#27880;&#24847;&#65306;&#35813;&#31243;&#24207;&#21253;&#19982;ksh&#20914;&#31361;&#65292;&#22914;&#26524;&#24050;&#32463;&#23433;&#35013;ksh&#65292;&#24314;&#35758;&#20351;&#29992;&#21629;&#20196; rpm -e ksh-* &#21368;&#36733;&#10;&#10;rpm -ivh pdksh-5.2.14-37.el5_8.1.x86_64.rpm</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="创建用户及安装目录">创建用户及安装目录</h2><p>使用rz上传p10404530_112030_Linux-x86-64_1of7.zip、p10404530_112030_Linux-x86-64_2of7.zip到/opt/目录下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#20998;&#21035;&#35299;&#21387;&#19978;&#20256;&#30340;&#25991;&#20214;,&#35299;&#21387;&#24471;&#21040;database&#25991;&#20214;&#22841;&#10;unzip -x p10404530_112030_Linux-x86-64_1of7.zip&#10;unzip -x p10404530_112030_Linux-x86-64_2of7.zip&#10;&#10;# &#21019;&#24314;oracle&#29992;&#25143;&#21644;&#32452;,&#24182;&#35774;&#32622;&#23494;&#30721;&#10;groupadd oinstall&#10;groupadd dba&#10;useradd -g oinstall -G dba oracle&#10;passwd oracle&#10;&#10;# &#21019;&#24314;oracl&#23433;&#35013;&#30446;&#24405;&#65292;&#24182;&#23558;&#30446;&#24405;&#26435;&#38480;&#36171;&#20104;oracle&#29992;&#25143;&#10;mkdir -p /data/DBSoft/oracle/product/11.2.0/db_1&#10;chown -R oracle:oinstall /data/DBSoft/oracle&#10;chmod -R 755 /data/DBSoft/oracle&#10;&#10;# &#23433;&#35013;&#26102;&#36824;&#38656;&#35201;&#35774;&#32622;Inventory&#30446;&#24405;&#65292;&#25152;&#20197;&#21019;&#24314;&#24182;&#36171;&#20104;&#26435;&#38480;&#10;mkdir -p /data/DBSoft/oraInventory&#10;chown -R oracle:oinstall /data/DBSoft/oraInventory&#10;chmod -R 755 /data/DBSoft/oraInventory</span><br></pre></td></tr></table></figure>
<h2 id="修改系统参数">修改系统参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#20462;&#25913;hosts&#25991;&#20214;&#65292;&#23558;127.0.0.1&#20462;&#25913;&#20026;&#26412;&#26426;&#30340;ip&#65292;&#36991;&#20813;&#23433;&#35013;Oracle&#22312;Oracle Net Configuration Assistant&#26102;&#20250;&#22833;&#36133;&#10;vi /etc/hosts&#10;&#10;192.168.1.250   dbsrver localhost&#10;::1     localhost6 localhost6.localdomain6&#10;&#10;&#10;# &#20462;&#25913;&#20869;&#26680;&#21442;&#25968;&#10;vi /etc/sysctl.conf&#10;&#10;kernel.shmmni = 4096&#10;kernel.sem = 250 32000 100 128&#10;net.ipv4.ip_local_port_range = 9000 65500&#10;fs.file-max = 6815744&#10;net.core.rmem_default = 262144&#10;net.core.rmem_max = 4194304&#10;net.core.wmem_default = 262144&#10;net.core.wmem_max = 1048576&#10;fs.aio-max-nr = 1048576&#10;&#10;# &#20877;&#25191;&#34892;&#20197;&#19979;&#21629;&#20196;&#20351;&#20197;&#19978;&#37197;&#32622;&#31435;&#21363;&#29983;&#25928;&#10;sysctl -p&#10;&#10;# &#32534;&#36753;&#31995;&#32479;&#36164;&#28304;&#38480;&#21046;&#37197;&#32622;&#25991;&#20214;&#10;vi /etc/security/limits.conf&#10;&#10;oracle soft nproc 2047&#10;oracle hard nproc 16384&#10;oracle soft nofile 1024&#10;oracle hard nofile 65536</span><br></pre></td></tr></table></figure>
<h2 id="配置oracle默认安装参数">配置oracle默认安装参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#20999;&#25442;&#21040;orcale&#29992;&#25143;&#65292;&#20462;&#25913;/home/oracle/.bash_profile&#25991;&#20214;&#10;su - oracle&#10;vi ~/.bash_profile&#10;&#10;# &#35774;&#32622;oracle&#29992;&#25143;&#29615;&#22659;&#21464;&#37327;&#65292;&#28155;&#21152;&#22914;&#19979;&#10;#&#23433;&#35013;&#30446;&#24405;&#10;export ORACLE_BASE=/data/DBSoft/oracle&#10;#oracle&#23478;&#30446;&#24405;&#10;export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/db_1&#10;export PATH=$ORACLE_HOME/bin:$PATH&#10;&#10;# &#20445;&#23384;&#36864;&#20986;&#21518;&#25191;&#34892;&#22914;&#19979;&#21629;&#20196;&#20351;&#20197;&#19978;&#35774;&#32622;&#31435;&#21363;&#29983;&#25928;,&#24182;env&#25110;&#32773;echo $PATH&#26597;&#30475;&#19979;&#10;source ~/.bash_profile</span><br></pre></td></tr></table></figure>
<h1 id="开始安装oracle">开始安装oracle</h1><h2 id="配置远程安装环境">配置远程安装环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># oracle&#23433;&#35013;&#38656;&#35201;X-window&#29615;&#22659;&#65292;&#20294;&#26159;&#32771;&#34385;&#21040;&#26368;&#22823;&#21270;&#21033;&#29992;&#26381;&#21153;&#22120;&#24615;&#33021;&#65292;&#19968;&#33324;&#26381;&#21153;&#22120;&#20013;&#19981;&#20250;&#23433;&#35013;X-windows&#29615;&#22659;&#12290;&#25152;&#20197;&#36873;&#25321;&#36828;&#31243;&#26469;&#23433;&#35013;oracle&#12290;&#10;&#10;# &#35774;&#32622;&#35821;&#35328;&#29615;&#22659;LANG&#21644;LC_ALL,&#25913;&#20026;&#33521;&#25991;&#29615;&#22659;&#10;export LANG=en_US&#10;export LC_ALL=en_US&#10;&#10;# &#20351;&#29992;Xmanager&#26469;&#36828;&#31243;&#26174;&#31034;oracle&#30340;&#23433;&#35013;&#30028;&#38754;&#65292;&#23433;&#35013;&#36807;&#31243;&#20013;&#21487;&#33021;&#36935;&#21040;&#30028;&#38754;&#26174;&#31034;&#19981;&#23436;&#20840;&#30340;&#38382;&#39064;&#65292;&#22240;&#20026;&#25105;&#26159;&#22312;&#34394;&#25311;&#26426;&#20013;&#23433;&#35013;&#65292;&#29468;&#27979;&#26159;&#19982;&#20869;&#23384;&#22823;&#23567;&#26377;&#20851;&#10;export DISPLAY=192.168.1.233:0.0&#10;./runInstall</span><br></pre></td></tr></table></figure>
<h2 id="安装数据库软件">安装数据库软件</h2><p>1.进入图形化界面，一步步安装，取消勾选I wish…（依照个人），点击Next，弹出确认框再点Yes<br><img src="http://wy-uploads.qiniudn.com/oracle_1.png" alt="此处输入图片的描述"><br><img src="http://wy-uploads.qiniudn.com/oracle_2.png" alt="此处输入图片的描述"></p>
<p>2.询问是否软件升级，选择”Skip software updates”<br><img src="http://wy-uploads.qiniudn.com/oracle_3.png" alt="此处输入图片的描述"></p>
<p>3.选择第二项：Install database software only，只安装数据库软件<br><img src="http://wy-uploads.qiniudn.com/oracle_4.png" alt="此处输入图片的描述"></p>
<p>4.保持默认：Singel instance database installation，点击Next<br><img src="http://wy-uploads.qiniudn.com/oracle_5.png" alt="此处输入图片的描述"></p>
<p>5.选择产品语言，默认英语，附加选择了简体中文，点击Next<br><img src="http://wy-uploads.qiniudn.com/oracle_6.png" alt="此处输入图片的描述"></p>
<p>6.选择数据库版本，默认企业版，点击Next<br><img src="http://wy-uploads.qiniudn.com/oracle_7.png" alt="此处输入图片的描述"></p>
<p>7.配置Oracle安装目录，由于安装前环境变量的配置，安装程序自动读取配置，自动选择好了<br><img src="http://wy-uploads.qiniudn.com/oracle_8.png" alt="此处输入图片的描述"></p>
<p>8.同上，Oracle Inventory Directory目录也自动选择好了，oraInventory Group Name选择安装前创建的组oinstall，点击Next<br><img src="http://wy-uploads.qiniudn.com/oracle_9.png" alt="此处输入图片的描述"></p>
<p>9.保持默认，点击Next<br><img src="http://wy-uploads.qiniudn.com/oracle_10.png" alt="此处输入图片的描述"></p>
<p>10.安装检查中<br><img src="http://wy-uploads.qiniudn.com/oracle_11.png" alt="此处输入图片的描述"></p>
<p>11.检查结束，不满足条件列表,可以针对packages包进行yum install<br><img src="http://wy-uploads.qiniudn.com/oracle_12.png" alt="此处输入图片的描述"></p>
<p>12.忽略物理内存和交换分区的警告<br><img src="http://wy-uploads.qiniudn.com/oracle_13.png" alt="此处输入图片的描述"></p>
<p>13.配置确认，安装<br><img src="http://wy-uploads.qiniudn.com/oracle_14.png" alt="此处输入图片的描述"></p>
<p>14.root用户下，命令执行提示sh文件<br><img src="http://wy-uploads.qiniudn.com/oracle_15.png" alt="此处输入图片的描述"></p>
<h2 id="安装监听">安装监听</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#22312;oracle&#29992;&#25143;&#19979;&#10;netca</span><br></pre></td></tr></table></figure>
<p><img src="http://wy-uploads.qiniudn.com/oracle_31.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_32.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_33.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_34.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_35.png" alt="此处输入图片的描述"><br>提示1521端口被占用，这里是因为我安装过程中修改过hostname，导致的<br><img src="http://wy-uploads.qiniudn.com/oracle_36.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_37.png" alt="此处输入图片的描述"></p>
<h2 id="安装数据库实例">安装数据库实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#22312;oracle&#29992;&#25143;&#19979;&#10;dbca</span><br></pre></td></tr></table></figure>
<p><img src="http://wy-uploads.qiniudn.com/oracle_16.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_17.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_18.png" alt="此处输入图片的描述"><br>配置全局数据库名称<br><img src="http://wy-uploads.qiniudn.com/oracle_19.png" alt="此处输入图片的描述"><br>取消EM管理界面<br><img src="http://wy-uploads.qiniudn.com/oracle_20.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_21.png" alt="此处输入图片的描述"><br>备配置置超级管理员密码，统一密码<br><img src="http://wy-uploads.qiniudn.com/oracle_22.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_23.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_24.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_25.png" alt="此处输入图片的描述"><br>修改数据库字符编码<br><img src="http://wy-uploads.qiniudn.com/oracle_26.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_27.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_28.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_29.png" alt="此处输入图片的描述"></p>
<p><img src="http://wy-uploads.qiniudn.com/oracle_30.png" alt="此处输入图片的描述"></p>
<h2 id="配置本地网络服务名">配置本地网络服务名</h2><p>配置本地网络服务名（使服务器充当oracle客户端，连接自己，对数据库进行操作）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#22312;oracle&#29992;&#25143;&#19979;&#10;netca</span><br></pre></td></tr></table></figure>
<p><img src="http://wy-uploads.qiniudn.com/oracle_38.png" alt="此处输入图片的描述"><br><img src="http://wy-uploads.qiniudn.com/oracle_39.png" alt="此处输入图片的描述"><br>输入连接的oracle服务器的数据库的实例名，这里输入本机的。<br><img src="http://wy-uploads.qiniudn.com/oracle_40.png" alt="此处输入图片的描述"><br><img src="http://wy-uploads.qiniudn.com/oracle_41.png" alt="此处输入图片的描述"><br>输入oracle服务器的ip地址，这里输入本机的ip<br><img src="http://wy-uploads.qiniudn.com/oracle_42.png" alt="此处输入图片的描述"><br>选中测试<br><img src="http://wy-uploads.qiniudn.com/oracle_43.png" alt="此处输入图片的描述"><br>点击change Login 输入所连接oracle服务器的其中某一个用户名和密码，点击OK<br><img src="http://wy-uploads.qiniudn.com/oracle_44.png" alt="此处输入图片的描述"><br>看到此界面说明测试成功<br><img src="http://wy-uploads.qiniudn.com/oracle_45.png" alt="此处输入图片的描述"><br>为你所设置的本地网络服务名起个名字，与实例名不能相同<br><img src="http://wy-uploads.qiniudn.com/oracle_46.png" alt="此处输入图片的描述"><br><img src="http://wy-uploads.qiniudn.com/oracle_47.png" alt="此处输入图片的描述"></p>
<h1 id="遇到的问题">遇到的问题</h1><h2 id="重启linux后，dbca命令无法找到">重启linux后，dbca命令无法找到</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile&#10;&#10;# &#28155;&#21152;&#22914;&#19979;&#20869;&#23481;&#10;# set Oracle&#10;export ORACLE_SID=demo  #&#25968;&#25454;&#24211;&#23454;&#20363;ID    &#10;export ORACLE_BASE=/DBSoft/oracle #&#23433;&#35013;&#30446;&#24405;&#10;export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/db_1 #oracle&#23478;&#30446;&#24405;&#10;export PATH=$ORACLE_HOME/bin:$PATH&#10;&#10;# &#20351;&#37197;&#32622;&#29983;&#25928;&#10;source /etc/profile</span><br></pre></td></tr></table></figure>
<h2 id="安装oracle软件后，安装监听报错">安装oracle软件后，安装监听报错</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Oracle Net Services Configuration:&#10;#&#10;# An unexpected error has been detected by HotSpot Virtual Machine:&#10;#&#10;# SIGSEGV (0xb) at pc=0xa4bf5f4e, pid=11819, tid=3086902976&#10;#&#10;# Java VM: Java HotSpot(TM) Client VM (1.5.0_17-b02 mixed mode)&#10;# Problematic frame:&#10;# C [libclntsh.so.11.1+0x421f4e] snlinGetAddrInfo+0x1b2&#10;#&#10;# An error report file with more information is saved as hs_err_pid11819.log&#10;#&#10;# If you would like to submit a bug report, please visit:&#10;#   http://java.sun.com/webapps/bugreport/crash.jsp&#10;#&#10;/u01/oracle/bin/netca: line 178: 11819 Aborted                 $JRE $JRE_OPTIONS -classpath $CLASSPATH oracle.net.ca.NetCA $*</span><br></pre></td></tr></table></figure>
<p>原因是安装Centos的时候，默认主机名没有修改。对其进行修改。（安装centos时，计算机名必须修改）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#20462;&#25913;hostname&#10;vi /etc/sysconfig/network&#10;HOSTNAME=dbserver&#10;#&#20462;&#25913;hosts&#25991;&#20214;&#10;vi /etc/hosts&#10;192.168.1.250   dbsrver localhost&#10;::1  localhost6 localhost6.localdomain6</span><br></pre></td></tr></table></figure>
<h2 id="安装完监听后，启动监听报错。">安装完监听后，启动监听报错。</h2><p>怀疑与安装监听时提示1521端口被占用有关</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[oracle@dbserver database]$ netstat -an | grep 1521&#10;[oracle@dbserver database]$ lsnrctl stat&#10;&#10;LSNRCTL for Linux: Version 11.2.0.3.0 - Production on 29-MAR-2015 15:09:14&#10;&#10;Copyright (c) 1991, 2011, Oracle.  All rights reserved.&#10;&#10;Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(PORT=1521)))&#10;TNS-12541: TNS:no listener&#10; TNS-12560: TNS:protocol adapter error&#10;  TNS-00511: No listener&#10;   Linux Error: 111: Connection refused&#10;Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC1521)))&#10;TNS-12541: TNS:no listener&#10; TNS-12560: TNS:protocol adapter error&#10;  TNS-00511: No listener&#10;   Linux Error: 2: No such file or directory</span><br></pre></td></tr></table></figure>
<p>原因是 $ORAACLE_HOME/network/admin/listener.ora 文件中的 host未定义。</p>
<h1 id="其他知识">其他知识</h1><h2 id="数据库名、实例名、SID、服务名、网络服务名">数据库名、实例名、SID、服务名、网络服务名</h2><p>数据库名：建数据库时候填写的global database name（<code>select name from v$database;</code>）<br>SID：建数据库时候填写的SID<br>实例名：与数据库名一致（<code>select instance_name from v$instance</code>）</p>
<h2 id="Linux_oracle数据库listener-ora存放路径">Linux oracle数据库listener.ora存放路径</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /data/DBSoft/oracle/product/11.2.0/db_1/network/admin/listener.ora</span><br></pre></td></tr></table></figure>
<h2 id="Linux_oracle数据库tnsnames-ora存放路径">Linux oracle数据库tnsnames.ora存放路径</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /data/DBSoft/oracle/product/11.2.0/db_1/network/admin/tnsnames.ora</span><br></pre></td></tr></table></figure>
<h2 id="ORACLE多个实例">ORACLE多个实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LISTENER =&#10;  (DESCRIPTION_LIST =&#10;    (DESCRIPTION =&#10;      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))&#10;      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))&#10;    )&#10;  )&#10;  &#10;#SID1&#12289;SID2&#21363;&#20026;2&#20010;&#23454;&#20363;&#21517;&#31216;&#10;SID_LIST_LISTENER =&#10;  (SID_LIST =&#10;    (SID_DESC =&#10;      (GLOBAL_DBNAME = SID1)&#10;      (ORACLE_HOME = /data/DBSoft/oracle/product/11.2.0/db_1)&#10;      (SID_NAME = SID1)&#10;    )&#10;    (SID_DESC =&#10;      (GLOBAL_DBNAME = SID2)&#10;      (ORACLE_HOME = /data/DBSoft/oracle/product/11.2.0/db_1)&#10;      (SID_NAME = SID2)&#10;    )&#10;  )</span><br></pre></td></tr></table></figure>
<h2 id="ORACLE启动监听器">ORACLE启动监听器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#20999;&#25442;&#33267;oracle&#23433;&#35013;&#29992;&#25143;&#65288;&#19968;&#33324;&#20026;oracle&#65289;&#10;su - oracle &#10;#&#21551;&#21160;&#30417;&#21548;&#22120;&#10;lsnrctl start &#10;#&#20572;&#27490;&#30417;&#21548;&#22120;&#10;lsnrctl stop</span><br></pre></td></tr></table></figure>
<h2 id="启动测试oracle">启动测试oracle</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[oracle@oracle ~]$ sqlplus /nolog&#10;SQL*Plus: Release 11.2.0.1.0 Production on Fri Jul 27 02:12:12 2012&#10;Copyright (c) 1982, 2009, Oracle. All rights reserved.&#10;#&#20851;&#38381;&#25968;&#25454;&#24211;&#10;SQL&#62; shutdown&#10;#&#21551;&#21160;&#25968;&#25454;&#24211;&#10;SQL&#62; startup&#10;SQL&#62; quit</span><br></pre></td></tr></table></figure>
<p>测试的另一种方法：找一台windows平台电脑，telnet oracle主机IP地址：1521，通的话，会出现一个黑屏，光标一闪一闪。</p>
<h2 id="Linux开放1521端口允许网络连接Oracle_Listener">Linux开放1521端口允许网络连接Oracle Listener</h2><p>症状：<br>(1)TCP/IP连接是通的。可以用ping 命令测试。<br>(2)服务器上Oracle Listener已经启动。<br>lsnrctl status 查看listener状态<br>lsnrctl start 启动Oracle listener<br>(3)客户端得到的错误信息通常是：ORA-12170： TNS:连接超时<br>这时，我们基本可以肯定是服务器没有开放1521端口（假设你用默认设置）</p>
<p>解决方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#32534;&#36753;iptables, &#24320;&#25918;1521&#31471;&#21475;&#65306;&#10;vi /etc/sysconfig/iptables&#10;-A INPUT -p tcp -m state --state NEW -m tcp --dport 1521 -j ACCEPT &#10;&#10;#&#20445;&#23384;&#37197;&#32622;&#65292;&#20197;&#20415;linux&#37325;&#21551;&#21518;&#20381;&#28982;&#26377;&#25928;&#10;service iptables save &#10;#&#37325;&#21551;&#38450;&#28779;&#22681;,&#20351;&#35268;&#21017;&#29983;&#25928;&#10;service iptables restart&#10;#&#26597;&#30475;&#38450;&#28779;&#22681;&#35268;&#21017;&#65306;&#10;iptables -L &#8211;n</span><br></pre></td></tr></table></figure>
<h2 id="linux下创建oracle用户表空间">linux下创建oracle用户表空间</h2><p>就是在已有的数据库实例上创建一个新的帐号，访问一些新的表<br>操作步骤如下：<br>(1)登录linux，以oracle用户登录（如果是root用户登录的，登录后用 su - oracle命令切换成oracle用户）<br>(2)以sysdba方式来打开sqlplus，命令如下： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlplus &#34;/as sysdba&#34;&#10;#&#20351;&#29992;sysdba&#25171;&#24320;&#21487;&#33021;&#20250;&#25253;ORA-12162&#38169;&#35823;&#65292;&#22240;&#20026;ORACLE_SID&#26410;&#23450;&#20041;&#10;export ORACLE_SID=dbmaster</span><br></pre></td></tr></table></figure>
<p>(3)查看我们常规将用户表空间放置位置：执行如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sql&#65306;select name from v$datafile;</span><br></pre></td></tr></table></figure>
<p>(4)创建用户表空间：<br>根据上步查询出的路径，新建用户表空间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create tablespace ts_UserName datafile&#10;&#39;/data/dbdata/ewm/UserName_data01.dbf&#39; size 2G autoextend on next 100M maxsize 31g,&#10;&#39;/data/dbdata/ewm/UserName_data02.dbf&#39; size 2G autoextend on next 100M maxsize 31g,&#10;&#39;/data/dbdata/ewm/UserName_data03.dbf&#39; size 2G autoextend on next 100M maxsize 31g;</span><br></pre></td></tr></table></figure>
<p>(5)创建用户，指定密码和上边创建的用户表空间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#27880;&#24847;&#65306;oracle&#26377;&#20010;&#27611;&#30149;&#65292;&#23494;&#30721;&#24517;&#39035;&#20197;&#23383;&#27597;&#24320;&#22836;&#65292;&#22914;&#26524;&#20197;&#25968;&#23383;&#24320;&#22836;&#65292;&#23427;&#19981;&#20250;&#21019;&#24314;&#29992;&#25143;&#10;create user UserName identified by PassWord default tablespace ts_UserName profile DEFAULT;</span><br></pre></td></tr></table></figure>
<p>(6)赋予权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant create database link to UserName;&#10;grant create procedure to UserName;&#10;grant create sequence to UserName;&#10;grant create session to UserName;&#10;grant create synonym to UserName;&#10;grant create table to UserName;&#10;grant create trigger to UserName;&#10;grant create view to UserName;&#10;grant select any dictionary to UserName;&#10;grant select any table to UserName;&#10;grant unlimited tablespace to UserName;&#10;grant update any table to UserName;&#10;grant debug connect session to UserName;&#10;grant dba to UserName;</span><br></pre></td></tr></table></figure>
<p>—经过以上操作，我们就可以使用UserName/PassWord登录指定的实例，创建我们自己的表了</p>
<h2 id="设置Oracle自启动">设置Oracle自启动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su root&#10;vi /etc/oratab&#10;#&#23558;&#26411;&#23614;&#30340;N&#20462;&#25913;&#20026;Y&#10;dbmaster:/data/DBSoft/oracle/product/11.2.0/db_1:Y&#10;#&#20462;&#25913;linux&#33258;&#21551;&#21160;&#25991;&#20214;&#10;vi /etc/rc.d/rc.local&#10;su oracle -lc &#34;/data/DBSoft/oracle/product/11.2.0/db_1/bin/lsnrctl start&#34;&#10;&#10;su oracle -lc &#34;/data/DBSoft/oracle/product/11.2.0/db_1/bin/dbstart&#34;</span><br></pre></td></tr></table></figure>
<p>参考博客：<br> <a href="http://www.blogjava.net/icewee/archive/2013/01/30/394943.html" target="_blank" rel="external">Linux 64bit下Oracle11g安装手册</a><br> <a href="http://www.cnblogs.com/mophee/archive/2013/06/01/3107137.html" target="_blank" rel="external">亦步亦趋完成在CentOS 6.4下安装Oracle 11gR2</a><br> <a href="http://www.xiyang-liu.com/2012/11/install-oracle-dbserver-with-xmanager-in-windows/" target="_blank" rel="external">使用远程X Server安装Oracle</a><br> <a href="http://www.cnblogs.com/linjiqin/category/349944.html" target="_blank" rel="external">oracle初级系列教程</a></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/07/11/The-tongda-of-OA-with-Fetion-integrated-access/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          2013年版通达OA与飞信集成
        
      </div>
    </a>
  
  
    <a href="/2015/07/11/dedecms-security-settings-on-Nginx/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Nginx下dedecms安全设置</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="CentOS-Oracle-installation" data-title="CentOS下Oracle安装" data-url="http://www.mr-wang.cn/2015/07/11/CentOS-Oracle-installation/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"Mr-wang"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Mr-wang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>